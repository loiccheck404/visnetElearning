<div
  style="
    max-width: 400px;
    margin: 50px auto;
    padding: 20px;
    border: 1px solid #ddd;
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
  "
>
  <h2 style="text-align: center; margin-bottom: 30px; color: #333">Join Visnet E-Learning</h2>

  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 15px">
      <mat-label>First Name</mat-label>
      <input matInput formControlName="firstName" placeholder="Enter first name" />
      <mat-error
        *ngIf="registerForm.get('firstName')?.invalid && registerForm.get('firstName')?.touched"
      >
        First name is required (min 2 characters)
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 15px">
      <mat-label>Last Name</mat-label>
      <input matInput formControlName="lastName" placeholder="Enter last name" />
      <mat-error
        *ngIf="registerForm.get('lastName')?.invalid && registerForm.get('lastName')?.touched"
      >
        Last name is required (min 2 characters)
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 15px">
      <mat-label>Email</mat-label>
      <input matInput formControlName="email" type="email" placeholder="Enter your email" />
      <mat-icon matSuffix>email</mat-icon>
      <mat-error *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched">
        <span *ngIf="registerForm.get('email')?.errors?.['required']">Email is required</span>
        <span *ngIf="registerForm.get('email')?.errors?.['email']">Please enter a valid email</span>
      </mat-error>
    </mat-form-field>

    <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 15px">
      <mat-label>Role</mat-label>
      <mat-select formControlName="role">
        <mat-option value="student">Student</mat-option>
        <mat-option value="instructor">Instructor</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline" style="width: 100%; margin-bottom: 20px">
      <mat-label>Password</mat-label>
      <input
        matInput
        formControlName="password"
        type="password"
        placeholder="Enter your password"
      />
      <mat-icon matSuffix>lock</mat-icon>
      <mat-error
        *ngIf="registerForm.get('password')?.invalid && registerForm.get('password')?.touched"
      >
        Password must be at least 6 characters
      </mat-error>
    </mat-form-field>

    <div
      *ngIf="error"
      style="
        color: #f44336;
        background: #ffebee;
        padding: 10px;
        border-radius: 4px;
        margin-bottom: 15px;
        text-align: center;
      "
    >
      {{ error }}
    </div>

    <button
      mat-raised-button
      color="primary"
      type="submit"
      [disabled]="loading || registerForm.invalid"
      style="width: 100%; margin-bottom: 15px; height: 45px"
    >
      <mat-spinner *ngIf="loading" diameter="20"></mat-spinner>
      <span *ngIf="!loading">Create Account</span>
    </button>

    <div style="text-align: center">
      <span>Already have an account? </span>
      <button mat-button color="primary" type="button" (click)="goToLogin()">Login here</button>
    </div>
  </form>
</div>
